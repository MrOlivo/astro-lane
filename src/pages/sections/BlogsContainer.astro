---
import { Icon } from "astro-icon";
import FormattedDate from "@components/FormattedDate.astro";

const { sortedPosts } = Astro.props;
---

<div class="flex flex-row my-4 items-center text-neutral-500">
  <h2 class="font-medium text-h4 mb-0 leading-8 tracking-tighter">Blogs</h2>
  <a href="/blog" class="font-medium flex no-underline ml-auto">
    View all blogs
    <Icon name="ph:arrow-right-light" class="w-6 h-6 ml-4" />
  </a>
</div>

<ul class="list-none space-y-5">
  {
    sortedPosts.map((post) => (
      <li class="flex flex-col gap-1">
        <a
          href={`/blog/${post.slug}`}
          class="block w-full card-clip p-8 no-underline sm:flex-row sm:gap-8 bg-neutral-100 rounded-[40px] transition-all duration-300 hover:-top-0.5 relative"
        >
          <span class="grid flex-1 gap-1">
            <span class="text-neutral-900 line-clamp-1 md:inline-flex items-center">
              <span class="inline-block font-medium">{post.data.title}</span>
              <span class="md:mb-0 my-2 md:my-0 md:ml-2 text-sm w-max md:w-auto items-center rounded-full border border-neutral-300 bg-white px-1 py-[2px] font-medium text-primary-500 block md:inline-flex">
                <span class="px-2">
                  <FormattedDate date={post.data.pubDate} />
                </span>
              </span>
            </span>
            <span class="text-neutral-500 line-clamp-2 ">
              {post.data.description}
            </span>
          </span>
        </a>
      </li>
    ))
  }
</ul>
